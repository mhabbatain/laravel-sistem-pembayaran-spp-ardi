services:
  evolution-api:
    container_name: evolution_api
    image: atendai/evolution-api:v1.8.5
    restart: unless-stopped
    ports:
      - "8080:8080"
    environment:
      # Server Config
      - SERVER_URL=http://localhost:8080
      - SERVER_TYPE=http

      # Authentication
      - AUTHENTICATION_API_KEY=SppDarulJalalApiKey2026
      - AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

      # Database Config - Use file storage for v1.x
      - DATABASE_ENABLED=false

      # Log Config
      - LOG_LEVEL=INFO
      - LOG_COLOR=true

      # Instance Config
      - DEL_INSTANCE=false
      - DEL_TEMP_INSTANCES=true

      # Webhook Config
      - WEBHOOK_GLOBAL_URL=
      - WEBHOOK_GLOBAL_ENABLED=false
      - WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

      # QR Code Config
      - QRCODE_LIMIT=30
      - QRCODE_COLOR=#198754

      # Typebot (disable)
      - TYPEBOT_ENABLED=false

      # Chatwoot (disable)
      - CHATWOOT_ENABLED=false

      # Cache Config
      - CACHE_REDIS_ENABLED=false

      # RabbitMQ (disable)
      - RABBITMQ_ENABLED=false

      # Websocket
      - WEBSOCKET_ENABLED=true

    volumes:
      - evolution_instances:/evolution/instances
      - evolution_store:/evolution/store

volumes:
  evolution_instances:
  evolution_store:
